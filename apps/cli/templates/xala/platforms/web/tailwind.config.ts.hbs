/**
 * Tailwind CSS Configuration - Xala UI System Compliant
 * Generated with Xaheen CLI - Web Platform Tailwind Configuration
 * 
 * MANDATORY COMPLIANCE RULES:
 * ❌ NO raw HTML elements (div, span, p, h1-h6, button, input, etc.)
 * ✅ ONLY semantic components from @xala-technologies/ui-system
 * ❌ NO hardcoded styling (no style={{}}, no arbitrary Tailwind values)
 * ✅ MANDATORY design token usage for all colors, spacing, typography
 * ✅ Enhanced 8pt Grid System - all spacing in 8px increments
 * ✅ WCAG 2.2 AAA compliance for accessibility
 * ❌ NO hardcoded user-facing text - ALL text must use t() function
 * ✅ MANDATORY localization: English, Norwegian Bokmål, French, Arabic
 * ✅ Explicit TypeScript return types (no 'any' types)
 * ✅ SOLID principles and component composition
 * ✅ Maximum 200 lines per file, 20 lines per function
 */

import type { Config } from 'tailwindcss';
import { xalaDesignTokens } from '@xala-technologies/ui-system/tokens';

const config: Config = {
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/layouts/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
    './src/utils/**/*.{js,ts,jsx,tsx,mdx}',
    './src/hooks/**/*.{js,ts,jsx,tsx,mdx}',
    // Include Xala UI System components
    './node_modules/@xala-technologies/ui-system/**/*.{js,ts,jsx,tsx}',
  ],
  
  // Dark mode configuration
  darkMode: ['class', '[data-theme="dark"]'],
  
  theme: {
    // Import Xala Design Tokens
    ...xalaDesignTokens,
    
    extend: {
      // Enhanced 8pt Grid System (8px increments)
      spacing: {
        '0': '0px',
        '1': '8px',    // 8px
        '2': '16px',   // 16px
        '3': '24px',   // 24px
        '4': '32px',   // 32px
        '5': '40px',   // 40px
        '6': '48px',   // 48px
        '7': '56px',   // 56px
        '8': '64px',   // 64px
        '9': '72px',   // 72px
        '10': '80px',  // 80px
        '11': '88px',  // 88px - WCAG AAA touch target (44px minimum)
        '12': '96px',  // 96px
        '14': '112px', // 112px - Professional input height
        '16': '128px', // 128px - Large button height
        '20': '160px', // 160px - Section spacing
        '24': '192px', // 192px
        '32': '256px', // 256px
        '40': '320px', // 320px
        '48': '384px', // 384px
        '56': '448px', // 448px
        '64': '512px', // 512px
      },

      // Norwegian-optimized responsive breakpoints
      screens: {
        'xs': '475px',   // Small mobile
        'sm': '640px',   // Mobile
        'md': '768px',   // Tablet
        'lg': '1024px',  // Desktop
        'xl': '1280px',  // Large desktop
        '2xl': '1536px', // Extra large desktop
        '3xl': '1920px', // Ultra-wide
      },

      // WCAG 2.2 AAA Color System
      colors: {
        // Primary colors with AAA contrast ratios
        primary: {
          50: '#eff6ff',
          100: '#dbeafe',
          200: '#bfdbfe',
          300: '#93c5fd',
          400: '#60a5fa',
          500: '#3b82f6',  // Main primary
          600: '#2563eb',
          700: '#1d4ed8',
          800: '#1e40af',
          900: '#1e3a8a',
          950: '#172554',
        },
        
        // Semantic colors for Norwegian compliance
        success: {
          50: '#f0fdf4',
          500: '#22c55e',  // Success green
          900: '#14532d',
        },
        
        warning: {
          50: '#fffbeb',
          500: '#f59e0b',  // Warning amber
          900: '#78350f',
        },
        
        error: {
          50: '#fef2f2',
          500: '#ef4444',  // Error red
          900: '#7f1d1d',
        },
        
        // Norwegian flag colors (optional for branding)
        norwegian: {
          red: '#ef2b2d',
          blue: '#002868',
          white: '#ffffff',
        },
      },

      // Professional typography scale
      fontSize: {
        'xs': ['12px', { lineHeight: '16px' }],
        'sm': ['14px', { lineHeight: '20px' }],
        'base': ['16px', { lineHeight: '24px' }],
        'lg': ['18px', { lineHeight: '28px' }],
        'xl': ['20px', { lineHeight: '28px' }],
        '2xl': ['24px', { lineHeight: '32px' }],
        '3xl': ['30px', { lineHeight: '36px' }],
        '4xl': ['36px', { lineHeight: '40px' }],
        '5xl': ['48px', { lineHeight: '1' }],
        '6xl': ['60px', { lineHeight: '1' }],
        '7xl': ['72px', { lineHeight: '1' }],
        '8xl': ['96px', { lineHeight: '1' }],
        '9xl': ['128px', { lineHeight: '1' }],
      },

      // Professional font families
      fontFamily: {
        sans: [
          'Inter',
          'system-ui',
          '-apple-system',
          'BlinkMacSystemFont',
          '"Segoe UI"',
          'Roboto',
          '"Helvetica Neue"',
          'Arial',
          '"Noto Sans"',
          'sans-serif',
          '"Apple Color Emoji"',
          '"Segoe UI Emoji"',
          '"Segoe UI Symbol"',
          '"Noto Color Emoji"',
        ],
        serif: [
          'ui-serif',
          'Georgia',
          'Cambria',
          '"Times New Roman"',
          'Times',
          'serif',
        ],
        mono: [
          'ui-monospace',
          'SFMono-Regular',
          '"SF Mono"',
          'Consolas',
          '"Liberation Mono"',
          'Menlo',
          'monospace',
        ],
      },

      // Enhanced border radius system
      borderRadius: {
        'none': '0px',
        'sm': '4px',
        'DEFAULT': '8px',
        'md': '12px',
        'lg': '16px',
        'xl': '24px',
        '2xl': '32px',
        '3xl': '48px',
        'full': '9999px',
      },

      // Professional shadow system
      boxShadow: {
        'sm': '0 1px 2px 0 rgb(0 0 0 / 0.05)',
        'DEFAULT': '0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)',
        'md': '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)',
        'lg': '0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)',
        'xl': '0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)',
        '2xl': '0 25px 50px -12px rgb(0 0 0 / 0.25)',
        'inner': 'inset 0 2px 4px 0 rgb(0 0 0 / 0.05)',
        'none': 'none',
      },

      // Animation system with reduced motion support
      animation: {
        'fade-in': 'fadeIn 0.3s ease-out',
        'fade-out': 'fadeOut 0.3s ease-out',
        'slide-in': 'slideIn 0.3s ease-out',
        'slide-out': 'slideOut 0.3s ease-out',
        'scale-in': 'scaleIn 0.2s ease-out',
        'scale-out': 'scaleOut 0.2s ease-out',
      },

      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        },
        fadeOut: {
          '0%': { opacity: '1' },
          '100%': { opacity: '0' },
        },
        slideIn: {
          '0%': { transform: 'translateY(-10px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' },
        },
        slideOut: {
          '0%': { transform: 'translateY(0)', opacity: '1' },
          '100%': { transform: 'translateY(-10px)', opacity: '0' },
        },
        scaleIn: {
          '0%': { transform: 'scale(0.95)', opacity: '0' },
          '100%': { transform: 'scale(1)', opacity: '1' },
        },
        scaleOut: {
          '0%': { transform: 'scale(1)', opacity: '1' },
          '100%': { transform: 'scale(0.95)', opacity: '0' },
        },
      },

      // Z-index system
      zIndex: {
        '0': '0',
        '10': '10',
        '20': '20',
        '30': '30',
        '40': '40',
        '50': '50',
        'auto': 'auto',
        'dropdown': '1000',
        'sticky': '1020',
        'fixed': '1030',
        'modal-backdrop': '1040',
        'modal': '1050',
        'popover': '1060',
        'tooltip': '1070',
        'toast': '1080',
      },
    },
  },

  plugins: [
    // Typography plugin for better text rendering
    require('@tailwindcss/typography'),
    
    // Forms plugin for better form styling
    require('@tailwindcss/forms'),
    
    // Aspect ratio plugin
    require('@tailwindcss/aspect-ratio'),
    
    // Container queries plugin
    require('@tailwindcss/container-queries'),

    // Custom plugin for Norwegian compliance
    function({ addUtilities, theme, addBase }) {
      // Add base styles for Norwegian compliance
      addBase({
        // Ensure proper focus styles for accessibility
        '*:focus': {
          outline: '2px solid',
          outlineColor: theme('colors.primary.500'),
          outlineOffset: '2px',
        },
        
        // High contrast mode support
        '@media (prefers-contrast: high)': {
          '*': {
            borderColor: theme('colors.gray.900'),
          },
        },
        
        // Reduced motion support
        '@media (prefers-reduced-motion: reduce)': {
          '*': {
            animationDuration: '0.01ms !important',
            animationIterationCount: '1 !important',
            transitionDuration: '0.01ms !important',
          },
        },
        
        // RTL support for Arabic
        '[dir="rtl"]': {
          direction: 'rtl',
        },
      });

      // Add utility classes for Norwegian compliance
      addUtilities({
        '.touch-target': {
          minHeight: theme('spacing.11'), // 44px minimum touch target
          minWidth: theme('spacing.11'),
        },
        
        '.focus-visible': {
          outline: '2px solid',
          outlineColor: theme('colors.primary.500'),
          outlineOffset: '2px',
        },
        
        '.sr-only-focusable': {
          position: 'absolute',
          width: '1px',
          height: '1px',
          padding: '0',
          margin: '-1px',
          overflow: 'hidden',
          clip: 'rect(0, 0, 0, 0)',
          whiteSpace: 'nowrap',
          border: '0',
          '&:focus': {
            position: 'static',
            width: 'auto',
            height: 'auto',
            padding: 'inherit',
            margin: 'inherit',
            overflow: 'visible',
            clip: 'auto',
            whiteSpace: 'normal',
          },
        },
      });
    },
  ],
};

export default config;
